ğ€ğ›ğ¬ğ­ğ«ğšğœğ­ ğğ©ğğ«ğšğ­ğ¢ğ¨ğ§ğ¬ ğ¢ğ§ ğ‰ğšğ¯ğšğ’ğœğ«ğ¢ğ©ğ­ â€” ğ“ğ¨ğğ«ğ¢ğ¦ğ¢ğ­ğ¢ğ¯ğ ğğ±ğ©ğ¥ğšğ¢ğ§ğğ

â€¢ Abstract operations are spec-level concepts
  - They are not real JavaScript functions
  - They describe how the language behaves internally

â€¢ JavaScript calls type conversion coercion
  - Conversion and coercion mean the same thing in JS

â€¢ ToPrimitive is the most important abstract operation
  - It runs whenever a non-primitive must become a primitive

â€¢ ToPrimitive applies to all non-primitives
  - Objects, arrays, functions, dates, etc.

â€¢ ToPrimitive accepts an optional hint
â€“ number
â€“ string
â€“ or no hint

â€¢ The hint depends on usage
  - Math operations request a number
  - String operations request a string

â€¢ The hint is a preference, not a guarantee
  - JavaScript will try its best, but may return a different primitive

â€¢ ToPrimitive works by consulting two methods
â€“ valueOf
â€“ toString

â€¢ If the hint is number
  - valueOf is tried first
  - If it doesnâ€™t return a primitive, toString is tried

â€¢ If the hint is string
  - toString is tried first
  - Then valueOf is tried

â€¢ If neither method returns a primitive
  - JavaScript throws an error

â€¢ These algorithms are recursive
  - If the result is still not a primitive, the process repeats

â€¢ This behavior explains many â€œweirdâ€ coercion results
  - Especially in math, concatenation, and equality checks

â€¢ Anytime a non-primitive is used where a primitive is required
  - ToPrimitive is happening behind the scenes

ğ‘ğ®ğ¥ğ:
ğŸ‘‰ ğ–ğ¡ğğ§ ğœğ¨ğğ«ğœğ¢ğ¨ğ§ ğ¬ğ®ğ«ğ©ğ«ğ¢ğ¬ğğ¬ ğ²ğ¨ğ®, ğ­ğ¡ğ¢ğ§ğ¤ ğ“ğ¨ğğ«ğ¢ğ¦ğ¢ğ­ğ¢ğ¯ğ â†’ ğ¯ğšğ¥ğ®ğğğŸ â†’ ğ­ğ¨ğ’ğ­ğ«ğ¢ğ§ğ 

Follow for more JavaScript internals and edge cases.

#JavaScript #Coercion #ToPrimitive #CleanCode #Frontend #YouDontKnowJS